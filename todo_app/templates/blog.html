{% extends 'base.html' %}

{% block content %}
    <div class="container">
        {% for post in posts %}
        <div class="rounded-5 p-5 m-5 text-black" style="background-color: lightgray;">
            <div id="post-root" key="{{ post.id }}">
                <h3 class="text-center mb-2">{{ post.title|title }}</h3>
                <p class="text-success">Posted {{ post.created_date|timesince }} ago by {{ post.author|title }}</p>
                {{ post.content| safe |truncatewords:40 }}
                <!-- Button to load post details -->
                <button class="btn btn-primary"
                        hx-get="{% url 'post_details' post.pk %}"
                        hx-target="closest div"
                >Read more...</button>
            </div>
        </div>
        {% endfor %}
    </div>
{% endblock %}
